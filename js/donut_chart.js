//pal = ["#fa828b", "#ed5f6a", "#de3a47", "#c41321", "#87000b"]

//pal = ["#4a83e8","#365fa8","#2b4d8a","#1f3966","#172b4d"]
//draw_maps(data.bairro, data.path)

function draw_donut() {
    var w = 1200,
        h = 550;
    var polygons_obj = {};
    var rows_obj = {};
    const font_family = "Raleway, sans-serif";

    //init raphael.js
    var plot_area = Raphael(document.getElementById('donut_container'), w, h);
    plot_area.setViewBox(0, 0, w, h, true);
    plot_area.setSize('100%', '100%');


    //create donut paths

    var particulares = plot_area.path("M 200.978547288,36.521137508 193.466424494,38.502725786 186.032669598,40.741808586 178.6772826,43.227190494 171.422654328,45.970066924 164.257589368,48.970437876 157.193283134,52.205912522 150.252126454,55.687686276 143.434119328,59.39336831 136.75045717,63.345349452 130.20113998,67.521238874 123.808558586,71.921036576 117.561517574,76.533547144 111.482407772,81.358770578 105.560033766,86.385511464 99.827981798,91.624965216 94.275056454,97.054741006 88.912453148,102.66364342 83.751367294,108.462867872 78.780603478,114.430023534 74.033747942,120.57630582 69.488409858,126.868128488 65.166980054,133.316686952 61.06945853,139.921981212 57.2070407,146.650425026 53.56853115,153.513213808 50.176320708,160.48795673 47.01921396,167.585849206 44.10840632,174.784500408 41.455093202,182.083910336 39.048079192,189.461688162 36.898559704,196.9290293 35.006534738,204.452347508 33.372004294,212.0428382 31.994968372,219.689305962 30.886622386,227.369359966 30.046966336,235.094195626 29.476000222,242.8302267 29.16252863,250.588648602 29.117746974,258.358265918 29.341655254,266.11668782 29.83425347,273.863914308 30.595541622,281.599945382 31.614324296,289.2911948 32.901796906,296.948857976 34.457959452,304.561739496 36.27161652,312.107448532 38.331572696,319.585985084 40.660218808,326.997349152 49.224710518,324.142518582 57.789202228,321.298883426 66.364889352,318.444052856 74.929381062,315.589222286 83.493872772,312.734391716 81.198812902,305.323027648 79.228420038,297.810904854 77.571498766,290.220414162 76.261635328,282.5739464 75.265243482,274.871501568 74.604714056,267.135470494 74.28004705,259.377048592 74.291242464,251.61862669 74.638300298,243.860204788 75.310025138,236.124173714 76.317612398,228.421728882 77.661062078,220.77526112 79.31798335,213.195965842 81.310767042,205.683843048 83.617022326,198.27247898 86.247944616,190.973069052 89.192338498,183.785613264 92.439008558,176.732502444 95.976759382,169.824932006 99.816786384,163.074097364 103.94789415,156.502389346 108.347691852,150.098612538 113.027374904,143.907548596 117.964552478,137.906806692 123.14802916,132.141168482 128.589000364,126.588243138 134.253879848,121.281616902 140.142667612,116.232485188 146.244168242,111.429652582 152.547186324,106.895509912 159.040526444,102.630057178 165.712993188,98.655685208 172.542195728,94.972394002 179.528134064,91.58018356 186.659612782,88.50144471 193.90304564,85.724982038 201.269628052,83.261990958 208.73696919,81.123666884 216.282678226,79.298814402 223.895559746,77.80982434 231.57561375,76.645501284 239.30044941,75.817040648 247.047675898,75.313247018 254.8060978,75.145315808 254.8060978,66.121812124 254.8060978,57.087113026 254.8060978,48.063609342 254.8060978,39.028910244 254.8060978,30.00540656 247.047675898,30.139751528 239.289253996,30.542786432 231.553222922,31.203315858 223.839582676,32.143730634 216.170724086,33.341639932 208.546647152,34.797043752 Z")
    var imobs = plot_area.path("M 59.602663429,368.868112535 63.571488524,375.441828467 67.75272961,381.870207142 72.146386687,388.15324856 76.763639544,394.290952721 81.570948814,400.260960047 86.590674075,406.063270538 91.800455749,411.686704405 97.200293836,417.142441437 102.790188336,422.396942267 108.547779671,427.472566473 114.473067841,432.335774688 120.566052846,437.00892649 126.804375108,441.458482512 133.199214416,445.706802332 139.739390981,449.720346583 146.402545225,453.521474843 153.188677148,457.087827534 160.09778675,460.419404656 167.118694242,463.516206209 174.240219835,466.367052404 181.45118374,468.98312303 188.751585957,471.342058509 196.130246697,473.466218419 203.564806382,475.322063393 211.066444801,476.931953009 218.623982165,478.284707478 226.215058896,479.3803268 233.839674994,480.218810975 241.48665067,480.788980214 249.155985924,481.102014306 256.825321178,481.157913251 264.494656432,480.94549726 272.152811897,480.487125911 279.788607784,479.749259837 287.390864304,478.765438405 294.970761246,477.524481826 302.483579454,476.015210311 309.951678506,474.259983438 317.363878613,472.247621418 324.686640408,469.978124251 331.942323469,467.473851515 339.097388429,464.712443632 346.163015077,461.71626018 353.116843835,458.485301159 359.958874703,455.00838678 366.677927892,451.307876621 373.262823613,447.383770682 379.713561866,443.236068963 386.018962862,438.864771464 392.179026601,434.281057974 398.171393505,429.496108282 403.996063574,424.509922388 409.653036808,419.322500292 415.131133418,413.956201572 420.419173615,408.399846439 425.517157399,402.664614682 430.413904981,396.76168609 435.109416361,390.691060663 439.603691539,384.475097979 443.874370937,378.102618249 447.921454555,371.584801262 451.756122182,364.944006596 455.35601424,358.169054462 458.721130729,351.271124649 461.851471649,344.272576735 464.747037,337.162230931 467.396646993,329.962446815 469.800301628,322.673224387 471.946821116,315.316923225 473.847385246,307.88236354 475.490814229,300.39190491 476.888287854,292.845547335 478.017446543,285.254470604 478.889470085,277.641034295 479.50435848,269.994058619 479.862111728,262.324723365 479.95155004,254.655388111 479.783853205,246.986052857 479.347841434,239.327897392 478.654694516,231.680921716 477.704412451,224.078665196 476.496995239,216.498768254 475.03244288,208.963590468 473.310755374,201.495491416 471.34311251,194.083291309 469.118334499,186.738169936 466.636421341,179.471307086 463.919732614,172.305062337 460.957088529,165.2282559 457.759668875,158.252067564 454.316293863,151.398856907 450.649323071,144.65744414 446.758756499,138.050188841 442.633414358,131.57709101 438.306836015,125.249330436 433.756661892,119.066907119 428.994071778,113.052180637 424.041425251,107.193971201 418.887542522,101.514638389 413.54360338,96.014182201 408.009607825,90.692602637 402.296735646,85.572259275 396.427346421,80.641972326 390.379080572,75.912921579 384.185477466,71.396286823 377.835357314,67.092068058 371.339899905,63.011445073 364.710285028,59.143238079 357.957692472,55.509806654 351.082122237,52.111150798 344.094754112,48.947270511 336.995588097,46.018165793 329.80698377,43.335016433 322.54012092,40.897822431 315.183819758,38.706583787 307.760439862,36.77248029 300.281161021,35.084332151 292.745983235,33.653319159 285.154906504,32.490621103 277.541470195,31.573878405 269.894494519,30.925450643 262.236339054,30.534158028 254.5670038,30.40000056 254.5670038,39.410910494 254.5670038,48.433000217 254.5670038,57.443910151 254.5670038,66.465999874 254.5670038,75.476909808 262.247518843,75.644606643 269.916854097,76.136517359 277.563829773,76.952641956 285.166086293,78.092980434 292.712443868,79.557532793 300.18054292,81.346299033 307.581563238,83.448099365 314.870785666,85.862933789 322.059389993,88.590802305 329.125016641,91.620525124 336.056485821,94.940922457 342.831437955,98.563174093 349.461052832,102.464920454 355.900611296,106.64616154 362.172472925,111.106897351 368.231918563,115.824768309 374.101307788,120.788594625 379.747101233,126.009556088 385.158119109,131.46529312 390.345541205,137.144625932 395.275828154,143.036374735 399.948979956,149.12935974 404.364996611,155.423580947 408.501518541,161.896678778 412.369725535,168.548653233 415.936078226,175.357144734 419.222936192,182.299793703 422.207939855,189.387779929 424.879909426,196.587564045 427.250024694,203.899146051 429.30710587,211.311346158 431.039973165,218.801804788 432.459806368,226.348162363 433.544245901,233.961598672 434.315651342,241.608574348 434.762842902,249.277909602 434.874640792,256.969604434 434.651045012,264.650119477 434.11441514,272.319454731 433.242391598,279.955250618 432.057333964,287.546327349 430.53688266,295.081505135 428.703397264,302.549604187 426.556877776,309.928264927 424.086144407,317.206307566 421.313556735,324.372552315 418.23911476,331.415819385 414.873998271,338.324928987 411.207027479,345.077521543 407.260561962,351.673597053 403.03460172,358.101975728 398.540326542,364.329118201 393.777736428,370.366204261 388.769190956,376.202054119 383.514690126,381.814308197 378.036593516,387.191786706 372.323721337,392.334489646 366.387253378,397.231237228 360.260729006,401.859669874 353.944148221,406.230967373 347.437511023,410.333949936 340.76317699,414.157437774 333.9435057,417.679071309 326.967317364,420.921210119 319.868151349,423.850314837 312.646007655,426.488745041 305.312066071,428.802961364 297.899865964,430.804143595 290.398227545,432.492291734 282.829510392,433.867405781 275.216074083,434.907126158 267.569098407,435.622632654 259.888583364,436.013925269 252.208068321,436.081004003 244.516373489,435.812689067 236.858218024,435.22016025 229.222422137,434.303417552 221.642525195,433.062460973 214.118527198,431.497290513 206.661607935,429.607906172 199.305306773,427.416667528 192.038443923,424.901215003 184.883378963,422.083908175 177.862471471,418.964747044 170.975721447,415.54373161 164.245488469,411.832041662 157.671772537,407.840856989 151.276933229,403.58135738 145.072150334,399.042363046 139.068603641,394.246233565 133.277472939,389.192968937 127.698758228,383.90492874 122.354819086,378.382112974 117.245655513,372.635701428 112.393627087,366.676873891 107.798733808,360.516810152 103.472155465,354.16669 99.413892058,347.637693224 95.635123376,340.940999613 92.158208997,334.098968745 88.960789343,327.100420831 86.076403781,319.978895238 83.493872522,312.734391966 74.941333937,315.585238161 66.388795352,318.436084356 57.825076978,321.286930551 49.272538393,324.126596957 40.719999808,326.977443152 43.2689917,334.210766635 46.06393895,341.365831595 49.093661769,348.409098665 52.369339946,355.340567845 55.868613903,362.171418924 Z");

    particulares.translate(350, 0);
    imobs.translate(350, 0);

    imobs.attr({ fill: "#bdbdbd", stroke: "white", opacity: .4 })
    particulares.attr({ fill: "#bdbdbd", stroke: "white", opacity: .4 })

    particulares.mouseover(function () {
        this.stop().animate({ "fill": "white", "opacity": 1, "stroke-width": 7 }, 300, "bounce")
        hover_me_text.stop().attr({ "font-size": 0 })
        imobs.animate({ "opacity": .1 }, 100)
        label_paticulares.animate({ "font-size": 35 }, 100, "bounce")
        label_imobs.stop().attr({ "font-size": 0 })
        info_particulares.stop().animate({"font-size":23, "r":150},300, "bounce")
    });

    particulares.mouseout(function () {
        this.stop().animate({ "fill": "#bdbdbd", "opacity": .4, "stroke-width": 1 }, 200, "elastic")
        imobs.animate({ "opacity": .4 }, 100)
        label_paticulares.attr({ "font-size": 0 })
        info_particulares.stop().animate({"font-size":0, "r":0},130)
    });

    imobs.mouseover(function () {
        this.stop().animate({ "fill": "white", "opacity": 1, "stroke-width": 7 }, 300, "bounce")
        hover_me_text.stop().attr({ "font-size": 0 })
        particulares.animate({ "opacity": .1 }, 100)
        label_imobs.animate({ "font-size": 35 }, 100, "bounce")
        label_paticulares.attr({ "font-size": 0 })
        info_imobs.stop().animate({"font-size":23, "r":150},300, "bounce")

    });

    imobs.mouseout(function () {
        this.stop().animate({ "fill": "#bdbdbd", "opacity": .4, "stroke-width": 1 }, 200, "elastic")
        particulares.animate({ "opacity": .4 }, 100)
        label_imobs.stop().attr({ "font-size": 0 })
        info_imobs.stop().animate({"font-size":0, "r":0},130)
    });

    //hover area
    var keepRotating = Raphael.animation({ 'transform': 'r7' }, 2500, "elastic" ).repeat( 'Infinity' )

    var hover_panel = plot_area.rect(0, 0, w, 550)
        .attr({ fill: "transparent", stroke:"transparent"}).toBack();

    hover_panel.mouseover(function () {
        hover_me_text.animate({ "font-size": 25 }, 100, "elastic")
        label_imobs.stop().attr({ "font-size": 0 })
        label_paticulares.stop().attr({ "font-size": 0 })
    });



    //text
    var hover_me_text = plot_area.text(600, 250, "Passe o mouse\nsobre o gráfico!")
        .attr({ "font-size": 25, "fill": "white" }).toBack();

    //labels
    var label_paticulares = plot_area.text(600, 250, "30,1%")
        .attr({ "font-size": 0, "fill": "white" }).toBack();

    var label_imobs = plot_area.text(600, 250, "69,9%")
        .attr({ "font-size": 0, "fill": "white" }).toBack();


    //infos

    var info_particulares = plot_area.set(
        particulaes_text = plot_area.text(170,200,"No geral, os anúncios\nparticulares representam\n30,1% na quantidade\ntotal de anúncios.")
                         .attr({fill:"#c5ad3b"}),
        particulares_ball = plot_area.circle(170,200,150)
                         .attr({fill:"white", stroke:"white"})
    ).attr({"font-size":0,"r":0}).toBack()
  
    var info_imobs = plot_area.set(
        particulaes_text = plot_area.text(1030,350,"De forma geral,\n os anúncios\nnão particulares\n(de imobiliárias)\nrepresentam 69,9%\nna quantidade\ntotal de anúncios.")
                         .attr({fill:"#c5ad3b"}),
        particulares_ball = plot_area.circle(1030,350,150)
                         .attr({fill:"white", stroke:"white"})
    ).attr({"font-size":0,"r":0}).toBack()

}